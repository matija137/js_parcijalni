var input=document.querySelector("input"),section=document.querySelector(".items"),loader=document.querySelector("#loading");function removeAllArticles(){document.querySelector(".items").innerHTML=""}function displayLoading(){loader.classList.add("display")}function hideLoading(){loader.classList.remove("display")}function displayMessage(e){let t=document.createElement("article");t.innerHTML=e,section.appendChild(t)}input.addEventListener("keyup",e=>{let t=e.target.value;removeAllArticles(),t.length>0&&(displayLoading(),fetch(`https://api.tvmaze.com/search/shows?q="${t}"`).then(e=>{if(e.ok)return e.json();throw Error(`HTTP error! Status: ${e.status}`)}).then(e=>{if(e.length>0){for(let t of e){let n=null===t.show.summary?"-":t.show.summary,r=null===t.show.rating.average?"-":t.show.rating.average,s=t.show.genres.join(", ");s=0==t.show.genres.length?"-":s;let a=document.createElement("article");a.innerHTML=`<h1>${t.show.name}</h1> <p><strong>Rating:</strong> ${r}</p> <p><strong>Genre:</strong> ${s}</p> <p><strong>Summary:</strong> ${n}</p>`,section.appendChild(a)}hideLoading()}else displayMessage("<p>There is no data for your query!</p>"),hideLoading()}).catch(e=>{displayMessage(`Error: ${e}`),hideLoading()}))});